import{N as n,a as o,b as c,ea as s}from"./chunk-JPNOK5HP.js";var l=class r{constructor(){}cartItems=s([]);cartCount=s(0);addToCart(a){let t=[...this.cartItems()],e=!1;for(let i of t)if(i.id===a.id){i.quantity+=1,e=!0;break}e||t.push(c(o({},a),{quantity:1})),this.cartItems.set(t),this.cartCount.set(this.calculateTotalCount(t)),localStorage.setItem("cart",JSON.stringify(t))}isInCart(a){let t=this.cartItems();for(let e=0;e<t.length;e++)if(t[e].id===a)return!0;return!1}removeFromCart(a){let t=[...this.cartItems()];for(let e=0;e<t.length;e++)if(t[e].id===a){t.splice(e,1);break}this.cartItems.set(t),this.cartCount.set(this.calculateTotalCount(t)),localStorage.setItem("cart",JSON.stringify(t))}increaseQuantity(a){let t=[...this.cartItems()];for(let e of t)if(e.id===a){e.quantity+=1;break}this.cartItems.set(t),this.cartCount.set(this.calculateTotalCount(t)),localStorage.setItem("cart",JSON.stringify(t))}decreaseQuantity(a){let t=[...this.cartItems()];for(let e=0;e<t.length;e++)if(t[e].id===a){t[e].quantity>1?t[e].quantity-=1:t[e].quantity=1;break}this.cartItems.set(t),this.cartCount.set(this.calculateTotalCount(t)),localStorage.setItem("cart",JSON.stringify(t))}calculateTotalCount(a){let t=0;for(let e of a)t+=e.quantity;return t}getCartItems(){return this.cartItems}loadCartFromStorage(){let a=localStorage.getItem("cart");a&&(this.cartItems.set(JSON.parse(a)),this.cartCount.set(this.calculateTotalCount(JSON.parse(a))))}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{l as a};
